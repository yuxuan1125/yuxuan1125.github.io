(function(e){function t(t){for(var a,r,s=t[0],i=t[1],u=t[2],f=0,d=[];f<s.length;f++)r=s[f],o[r]&&d.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o={app:0},c=[];function s(e){return i.p+"js/"+({refund_express:"refund_express",test:"test"}[e]||e)+"."+{refund_express:"d53f3c07",test:"35f873ea"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={refund_express:1,test:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({refund_express:"refund_express",test:"test"}[e]||e)+"."+{refund_express:"b1f4bcf8",test:"a1ec1820"}[e]+".css",r=i.p+a,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var s=o[c],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===a||u===r))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){s=f[c],u=s.getAttribute("data-href");if(u===a||u===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.request=a,n(o)},d.href=r;var l=document.getElementsByTagName("head")[0];l.appendChild(d)}).then(function(){r[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=c);var u,f=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=s(e),u=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,c=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");c.type=a,c.request=r,n[1](c)}o[e]=void 0}};var l=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,f.appendChild(d)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],f=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var l=f;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){n("db4d"),e.exports=n("56d7")},"2ea5":function(e,t,n){},"2fb8":function(e,t,n){"use strict";n("96cf");var a=n("3040"),r=n("c665"),o=n("a322"),c=n("6bde"),s=(n("456d"),n("ac6a"),n("4328")),i=n.n(s),u=n("2ef0"),f=n.n(u),d=(n("6d93"),n("912a")),l=n.n(d),p=n("e490"),g=n("ed08");function h(){var e=Object(g["a"])("HDCN");if(e&&"string"===typeof e)return e.substring(0,20)}function m(){if(!p["a"].isLocal)if(p["a"].isMgtvApp)l.a.login();else{var e=window.location.href;window.location.href="https://m.mgtv.com/login/?from=".concat(encodeURIComponent(e))}}function v(){return new Promise(function(e){p["a"].isLocal?e({ticket:"1R4X4466XVYUUPOSCEED"}):p["a"].isMgtvApp?l.a.getUserInfo(function(t){e(t?JSON.parse(t):{ticket:null})}):e({ticket:h()})})}var b="GET";function y(e,t,n){var a=t||new FormData;return Object.keys(e).forEach(function(t){var r;r=n?"".concat(n,"[").concat(t,"]"):t;var o=e[t];null!=o?"object"!==Object(c["a"])(o)||o instanceof File?a.append(r,o):y(o,a,r):a.append(r,"")}),a}function w(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t.code=100,t}var x=function e(){Object(r["a"])(this,e),Object(o["a"])(this,"request",function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,o,c,s,u,d,l,p,g,h,x,k,S=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=S.length>1&&void 0!==S[1]?S[1]:{},a=S.length>2&&void 0!==S[2]?S[2]:{},navigator.onLine){e.next=7;break}throw r=new Error,r.code=1,r.message="无法连接到网络",r;case 7:return o=a.method,c=void 0===o?b:o,e.next=10,v();case 10:if(s=e.sent,n.t=(new Date).getTime(),!f.a.isEmpty(s)&&s.ticket&&(n.token=s.ticket),c.toUpperCase()!==b){e.next=21;break}return d=i.a.stringify(n),l=d?"".concat(t,"?").concat(d):t,e.next=18,fetch(l,{credentials:"include"});case 18:u=e.sent,e.next=24;break;case 21:return e.next=23,fetch(t,{method:c,credentials:"include",body:y(n)});case 23:u=e.sent;case 24:return w(u),e.next=27,u.text();case 27:if(p=e.sent,-1===t.indexOf("http://d.da.mgtv.com")){e.next=30;break}return e.abrupt("return",{code:0,data:null});case 30:if(!p){e.next=43;break}if(g=p,"string"===typeof p&&(g=JSON.parse(p)),0!==g.code){e.next=35;break}return e.abrupt("return",g.data);case 35:if(h=g,x=h.msg,!x||"string"!==typeof x||-1===x.indexOf("用户异常")){e.next=39;break}return m(),e.abrupt("return");case 39:throw k=new Error(g.msg),k.code=g.code,k.message=g.msg,k;case 43:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),Object(o["a"])(this,"loadByImg",function(e,t){var n=document.getElementById("uploadImg"),a=i.a.stringify(t),r=a?"".concat(e,"?").concat(a):e;n.src=r}),this.handledInvalidToken=!1,this.invalidTokenHandler=function(){}},k=new x,S="".concat("https://shopapi.da.mgtv.com","/api"),P={},O=function(e){var t="".concat(S,"/").concat(e);"UPLOADDATA"===e&&(t="http://d.da.mgtv.com");var n=P[e];return n||(n=function(e,n,a){return k.request("".concat(t).concat(e?"/".concat(e):""),n,a)},P[e]=n),n};t["a"]=O},"3d39":function(e,t,n){},"4bd9":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("ceaa");var a=n("b2fb"),r=n.n(a),o=(n("42b0"),n("ec82")),c=n.n(o),s=(n("951e"),n("24f6")),i=n.n(s),u=(n("fc47"),n("dcdc")),f=n.n(u),d=(n("c6f8"),n("e8c9")),l=n.n(d),p=(n("f3f7"),n("2ac2")),g=n.n(p),h=(n("8516"),n("e384")),m=n.n(h),v=(n("f1a6"),n("8d19")),b=n.n(v),y=(n("8635"),n("f17f")),w=n.n(y),x=(n("0769"),n("e6d7")),k=n.n(x),S=(n("b6ce"),n("5441")),P=n.n(S),O=(n("3892"),n("450f")),_=n.n(O),C=(n("321e"),n("b961")),T=n.n(C),j=(n("216d"),n("b579")),D=n.n(j),E=(n("5fc6"),n("5af2")),I=n.n(E),N=(n("f2d0"),n("518b")),A=n.n(N),L=(n("cadf"),n("551c"),n("097d"),n("5cfb"),n("fa78")),R=n.n(L),U=(n("db4d"),n("2b0e")),$=n("1368"),M=n.n($),J=n("e490"),B=(n("2ea5"),n("3d39"),n("4bd9"),n("f532"),n("8c4f")),q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notfound"},[e._v("\n  404,您的页面路径有误！\n")])},V=[],F={},Q=F,W=(n("a016"),n("2877")),H=Object(W["a"])(Q,q,V,!1,null,null,null);H.options.__file="index.vue";var X=H.exports;U["default"].use(B["a"]);var G=new B["a"]({routes:[{path:"*",component:X},{path:"/test2",name:"test2",component:function(){return n.e("test").then(n.bind(null,"e039"))}},{path:"/refund/express",name:"refund_express",component:function(){return n.e("refund_express").then(n.bind(null,"6fdd"))}}]}),Y=n("2f62"),z=(n("ac6a"),n("c5f6"),n("96cf"),n("3040")),K=n("2fb8"),Z=Object(K["a"])("Cart");function ee(e){return Z("add",e,{method:"post"})}function te(){return Z("index")}function ne(e){return Z("totalCart",e,{method:"post"})}function ae(e){return Z("updateNum",e,{method:"post"})}function re(e){return Z("delete",e,{method:"post"})}var oe=n("c665"),ce=n("aa9a"),se=n("ed08"),ie=function(){function e(){Object(oe["a"])(this,e)}return Object(ce["a"])(e,[{key:"storageTest",value:function(e){if(!e)return!1;try{return e.setItem("key","value"),e.removeItem("key"),!0}catch(e){return!1}}},{key:"setStorage",value:function(e,t,n){var a=this.storageTest;switch(n){case"cookie":document.cookie="".concat(e,"=").concat(escape(t),";");break;case"localStorage":a(localStorage)&&localStorage.setItem(e,JSON.stringify(t));break;case"sessionStorage":a(sessionStorage)&&sessionStorage.setItem(e,JSON.stringify(t));break;default:a(localStorage)&&localStorage.setItem(e,JSON.stringify(t))}}},{key:"getStorage",value:function(e,t){var n=this.storageTest;if("cookie"===t)return Object(se["a"])(e);if("sessionStorage"===t){if(n(sessionStorage)){var a=sessionStorage.getItem(e);return a?JSON.parse(a):null}return null}if(n(localStorage)){var r=localStorage.getItem(e);return r?JSON.parse(r):null}return null}},{key:"setNowPage",value:function(e){this.setStorage("nowPage",e)}},{key:"getNowPage",value:function(){return this.getStorage("nowPage")}},{key:"setPrePage",value:function(e){this.setStorage("prePage",e)}},{key:"getPrePage",value:function(){return this.getStorage("prePage")}},{key:"setSessionId",value:function(e){this.setStorage("sessionId",e)}},{key:"getSessionId",value:function(){return this.getStorage("sessionId")}},{key:"setFixedUploadParams",value:function(e){this.setStorage("fixedUploadParams",e)}},{key:"getFixedUploadParams",value:function(){return this.getStorage("fixedUploadParams")}},{key:"setPageVisitiLog",value:function(e){var t=this.getNowPage(),n=this.getPageVisitiLog(t),a={startVisitTime:n?n.startVisitTime:(new Date).getTime(),page:t,hasAnyAction:!(!n||!n.hasAnyAction)||e};this.setStorage("".concat(t,"_visitlog"),a,"sessionStorage")}},{key:"getPageVisitiLog",value:function(e){return this.getStorage("".concat(e,"_visitlog"),"sessionStorage")}},{key:"setLocalCart",value:function(e){this.setStorage("LocalCart",e)}},{key:"getLocalCart",value:function(){return this.getStorage("LocalCart")}}]),e}(),ue=new ie,fe={cartData:[],cartDataNotEqual:!1,totalCartInfo:{goods_fee:0,goods_num:0,total_fee:0}},de={changeCartData:function(e,t){e.cartData=t},changeTotalCartInfo:function(e,t){e.totalCartInfo=t},changeCartDataStatus:function(e,t){e.cartDataNotEqual=t}},le={},pe={fetchCartData:function(){var e=Object(z["a"])(regeneratorRuntime.mark(function e(t){var n,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,te();case 4:a=e.sent,r=a.cartList,Array.isArray(r)&&n("changeCartData",r),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),U["default"].prototype.$toast("获取数据失败:".concat(e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),fetchAddCart:function(){var e=Object(z["a"])(regeneratorRuntime.mark(function e(t,n){var a,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,r=t.dispatch,o=a.cartDataNotEqual,e.prev=2,e.next=5,ee(n);case 5:return o||U["default"].prototype.$toast({message:"添加购物车成功",duration:1e3}),e.next=8,r("fetchCartData");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),o||U["default"].prototype.$toast({message:"添加购物车失败:".concat(e.t0.message),duration:1e3});case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t,n){return e.apply(this,arguments)}}(),subtractNum:function(e,t){var n=e.state.cartData,a=e.dispatch,r=n[t];r.goods_num>1&&(r.goods_num-=1,a("fetchUpdateNum",{cart:{id:r.id,goods_num:r.goods_num}}))},addNum:function(e,t){var n=e.state.cartData,a=e.dispatch,r=n[t];r.goods_num+=1,a("fetchUpdateNum",{cart:{id:r.id,goods_num:r.goods_num}})},changeStatus:function(e,t){var n=e.state.cartData,a=e.commit,r=e.dispatch;n[t].selected=Number(!n[t].selected),a("changeCartData",n),r("fetchTotalPrice")},selectAll:function(e){var t=e.state.cartData,n=e.dispatch;t.forEach(function(e){e.selected=1}),n("fetchTotalPrice")},selectNone:function(e){var t=e.state.cartData,n=e.dispatch;t.forEach(function(e){e.selected=0}),n("fetchTotalPrice")},deletLocalCart:function(e,t){var n=ue.getLocalCart();if(n){var a=[],r=[];t.forEach(function(e){a[e]=!0}),n.forEach(function(e){a[e.id]||r.push(e)}),ue.setLocalCart(r)}},fetchDeleteCart:function(){var e=Object(z["a"])(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,e.prev=1,e.next=4,re({cart_ids:n});case 4:a("fetchCartData"),a("fetchTotalPrice"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),U["default"].prototype.$toast("删除购物车数据失败:".concat(e.t0.message));case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}(),fetchTotalPrice:function(){var e=Object(z["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state.cartData,a=t.commit,r=[],n.forEach(function(e){r.push({id:e.id,goods_num:e.goods_num,selected:e.selected})}),e.prev=3,e.next=6,ne({cart:r});case 6:o=e.sent,a("changeTotalCartInfo",o),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),U["default"].prototype.$toast("".concat(e.t0.message));case 13:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),fetchUpdateNum:function(){var e=Object(z["a"])(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,e.prev=1,e.next=4,ae(n);case 4:a("fetchTotalPrice"),a("fetchCartData"),e.next=13;break;case 8:e.prev=8,e.t0=e["catch"](1),U["default"].prototype.$toast("更新数量失败:".concat(e.t0.message)),a("fetchTotalPrice"),a("fetchCartData");case 13:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}()},ge={namespaced:!0,state:fe,getters:le,actions:pe,mutations:de};U["default"].use(Y["a"]);var he=new Y["a"].Store({state:{userInfo:null},mutations:{},modules:{goods:ge},actions:{}}),me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("img",{attrs:{id:"uploadImg",src:"",alt:""}}),n("router-view")],1)},ve=[],be={watch:{$route:function(e,t){ue.setNowPage(e.name),ue.setPrePage(t.name)}},created:function(){}},ye=be,we=(n("fc36"),Object(W["a"])(ye,me,ve,!1,null,"cab08958",null));we.options.__file="App.vue";var xe=we.exports;M.a.polyfill(),U["default"].component(A.a.name,A.a),U["default"].component(I.a.name,I.a),U["default"].component(D.a.name,D.a),U["default"].component(T.a.name,T.a),U["default"].component(_.a.name,_.a),U["default"].component(P.a.name,P.a),U["default"].component(k.a.name,k.a),U["default"].component(w.a.name,w.a),U["default"].component(b.a.name,b.a),U["default"].component(m.a.name,m.a),U["default"].component(g.a.name,g.a),U["default"].component(l.a.name,l.a),U["default"].component(f.a.name,f.a),U["default"].use(i.a),U["default"].use(c.a),U["default"].prototype.$toast=I.a,U["default"].prototype.$loading=r.a,U["default"].prototype.$message=P.a,U["default"].prototype.$isMgtvApp=J["a"].isMgtvApp,U["default"].config.productionTip=!1,J["a"].isIOS&&R.a.enable(),new U["default"]({router:G,store:he,render:function(e){return e(xe)}}).$mount("#app")},"7def":function(e,t,n){},"912a":function(e,t){e.exports=MgtvApi},a016:function(e,t,n){"use strict";var a=n("d6b4"),r=n.n(a);r.a},d6b4:function(e,t,n){},e490:function(e,t,n){"use strict";n("cadf"),n("551c"),n("097d");var a=navigator,r=a.userAgent,o=/iphone|ipad|itouch|ipod/i.test(r),c=/android/i.test(r);t["a"]={isWeixin:/MicroMessenger/i.test(r)||/weixin/.test(r),isMgtvApp:/ImgoTV/i.test(r),isIOS:o,isAndroid:c,isWeiBo:/WeiBo/i.test(r),isQQ:/QQ/i.test(r),isLocal:!1,isPc:!o&&!c}},ed08:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return s});n("c5f6"),n("4917"),n("3b2b"),n("6b54"),n("a481");var a=n("912a"),r=n.n(a);n("e490");function o(e){var t=new RegExp("(^| )".concat(e,"=([^;]*)(;|$)")),n=document.cookie.match(t);return n?unescape(n[2]):null}function c(e){var t=e.title,n=void 0===t?"":t,a=e.desc,o=void 0===a?"":a,c=e.shareUrl,s=void 0===c?"":c,i=e.shareIcon,u=void 0===i?"":i;r.a.showShareMenus({title:n,desc:o,shareUrl:s,shareIcon:u},function(e){})}function s(){r.a.showShare()}},f532:function(e,t,n){},fc36:function(e,t,n){"use strict";var a=n("7def"),r=n.n(a);r.a}});
//# sourceMappingURL=app.90b4186b.js.map